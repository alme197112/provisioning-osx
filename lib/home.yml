---
- hosts: localhost
  tasks:
    - file: path=~/dev state=directory ## dev(elopment)

    - file: path=~/{{ item }} state=directory
      with_items: ## Ref http://refspecs.linuxfoundation.org/FHS_3.0/fhs-3.0.html#usrlocalLocalHierarchy
        - bin

    - file: path=~/bin/{{ item }} state=link src={{ provisioning_osx_root_dir }}/bin/{{ item }}
      with_items:
        - ush
        - brew

    - git: repo={{ docker_bin_repo }} version=master dest={{ docker_bin_dir }} remote=provisioning-osx refspec=+refs/heads/master:refs/remotes/provisioning-osx/master
      with_sequence: count=2 ## HACK Update ref then checkout.
    - file: path=~/bin/{{ item }} state=link src={{ docker_bin_dir }}/{{ item }}
      with_items:
        - docker-daemon-on-machine-start
        - docker-openjdk-8-jdk
